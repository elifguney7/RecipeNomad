<section class="detailedRecipeMedia">
  <!-- Loop through all media items and display them -->
  <h3>{{ recipe?.title }}</h3>
  <!-- <div class="videoContainer" *ngFor="let mediaItem of recipe?.media">
    
    <video *ngIf="mediaItem?.type?.startsWith('video')" controls autoplay>
        <source [src]="getFullMediaUrl(mediaItem.url)" [type]="mediaItem?.type">
        Your browser does not support the video tag.
    </video>
    <img *ngIf="mediaItem.type.startsWith('image')" [src]="getFullMediaUrl(mediaItem.url)" alt="{{ recipe?.title }}">
  </div> -->
  <div id="recipeMediaCarousel" class="videoContainer carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div *ngFor="let mediaItem of recipe?.media; let isFirst = first" class="carousel-item" [class.active]="isFirst">
        <!-- Display video if media item is a video -->
        <video *ngIf="mediaItem?.type?.startsWith('video')" class="d-block w-100" controls>
          <source [src]="getFullMediaUrl(mediaItem.url)" [type]="mediaItem?.type">
          Your browser does not support the video tag.
        </video>
        <!-- Display image if media item is an image -->
        <img *ngIf="mediaItem.type.startsWith('image')" [src]="getFullMediaUrl(mediaItem.url)" class="d-block w-100" alt="{{ recipe?.title }}">
      </div>
    </div>
    <!-- Carousel controls -->
    <a class="carousel-control-prev" href="#recipeMediaCarousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#recipeMediaCarousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</section>

<section class="detailedRecipeInfo">
  <div class="cardContainer">
      <div class="ingredientCard">
          <h3>Ingredient List</h3>
          <div *ngFor="let ingredient of recipe?.ingredients">
            <p>{{ ingredient.name }} - {{ ingredient.quantity }}</p>
          </div>
      </div>
      <div class="instructionCard">
          <h3>Instructions</h3>
          <!-- Safely display instructions if they exist -->
          <!-- <p>{{ recipe?.instructions }}</p> -->
          <div *ngFor="let instruction of recipe?.instructions">
            <strong>{{ instruction.step }}</strong>
            <p>{{ instruction.description }}</p>
          </div>
      </div>
  </div>
</section>
